### US-001 自動投稿フローチャート

```mermaid
graph TD
    A[START: 定刻にシステム起動] --> B;
    B[投稿キュー(スプレッドシート)にアクセス] --> C;
    C{"「未投稿」ステータスで<br>予約日時を過ぎたツイートを検索"} --> D{対象ツイートは存在するか？};
    D -- Yes --> E[Twitter APIへツイート内容を送信];
    D -- No --> I[END: 処理終了];
    E --> F{投稿は成功したか？};
    F -- Yes --> G[対象ツイートのステータスを<br>「投稿済」に更新];
    G --> H[「投稿完了日時」を記録];
    H --> I;
    F -- No --> J[失敗処理へ<br>(US-003で定義)];
    J --> I;
```

### フローチャートの解説

1.  **START: 定刻にシステム起動**

      * システムは、Google Apps Scriptのトリガーなどによって設定されたスケジュール（例: 10分ごと）で自動的に起動します。

2.  **投稿キュー(スプレッドシート)にアクセスし、対象を検索**

      * システムはデータソースであるGoogleスプレッドシート（投稿キュー）に接続します。
      * 「ステータス」が"未投稿"であり、かつ「投稿予約日時」が現在時刻を過ぎている行を検索します。

3.  **対象ツイートは存在するか？**

      * **Yesの場合**: 条件に一致するツイートが見つかった場合、次の投稿処理に進みます。
      * **Noの場合**: 条件に一致するツイートが1件もなければ、何もせず処理を終了します。

4.  **Twitter APIへツイート内容を送信**

      * 取得したツイートの本文を、TwitterのAPIへ送信して投稿を試みます。

5.  **投稿は成功したか？**

      * **Yesの場合**: Twitter APIから成功の応答を受け取った場合の処理に進みます。
      * **Noの場合**: ネットワークエラーやAPIの制限などで投稿に失敗した場合、失敗処理（ユーザーストーリー `US-003` で定義されているエラーログの記録など）へ分岐します。

6.  **ステータスを「投稿済」に更新し、「投稿完了日時」を記録**

      * 投稿が成功したツイートについて、スプレッドシート上のステータスを"投稿済"に更新します。
      * 「投稿完了日時」の列に、処理が完了した実際の日時を記録します。

7.  **END: 処理終了**

      * 一連の処理が完了します。